import{dr as o,ds as a,dt as n}from"./index.f8d8420e.js";import{A as u,c as i}from"./index.596e472d.js";o();const r=a(),l=n({id:"userStore",state:()=>({userInfo:{}}),actions:{async login(e){try{const{data:s}=await u.loginFunc(e);this.userInfo=s,i.success("\u767B\u5F55\u6210\u529F"),localStorage.setItem("ms_username",e.username);const t=r.defaultList[e.username=="hnetadmin"?"hnetadmin":"user"];return r.handleSet(t),localStorage.setItem("ms_keys",JSON.stringify(t)),Promise.resolve(!0)}catch{return Promise.reject(!1)}}},persist:{key:"user",storage:sessionStorage}});export{l as u};
